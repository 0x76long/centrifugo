



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Centrifugo Documentation">
      
      
        <link rel="canonical" href="https://github.com/centrifugal/centrifugo/misc/migrate/">
      
      
        <meta name="author" content="Centrifugal">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.6.6">
    
    
      
        <title>Migrate from Centrifugo v1 - Centrifugo Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.78aab2dc.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.6079476c.css">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../theme/styles/extra.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="indigo" data-md-color-accent="cyan">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <a href="#migration-notes-from-centrifugo-v1" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://github.com/centrifugal/centrifugo" title="Centrifugo Documentation" class="md-header-nav__button md-logo">
          
            <img src="../../images/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Centrifugo Documentation
              </span>
              <span class="md-header-nav__topic">
                Migrate from Centrifugo v1
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/centrifugal/centrifugo/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      centrifugal/centrifugo
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../../images/logo.png" width="24" height="24">
      
    </span>
    Centrifugo Documentation
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/centrifugal/centrifugo/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      centrifugal/centrifugo
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../guide/" title="Integration Guide" class="md-nav__link">
      Integration Guide
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../server/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../server/install/" title="Installation" class="md-nav__link">
      Installation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../server/configuration/" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../server/channels/" title="Channels" class="md-nav__link">
      Channels
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../server/authentication/" title="Authentication" class="md-nav__link">
      Authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../server/engines/" title="Engines" class="md-nav__link">
      Engines
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../server/admin/" title="Admin web interface" class="md-nav__link">
      Admin web interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../server/monitoring/" title="Monitoring" class="md-nav__link">
      Monitoring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../server/api/" title="Server HTTP API" class="md-nav__link">
      Server HTTP API
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../server/recover/" title="Message recovery" class="md-nav__link">
      Message recovery
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../server/signals/" title="Signal handling" class="md-nav__link">
      Signal handling
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../server/connection_expiration/" title="Connection expiration" class="md-nav__link">
      Connection expiration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../server/private_channels/" title="Private channels" class="md-nav__link">
      Private channels
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../server/protobuf/" title="Protobuf protocol" class="md-nav__link">
      Protobuf protocol
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../server/protocol/" title="Client protocol" class="md-nav__link">
      Client protocol
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Transports
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Transports
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../transports/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../transports/websocket/" title="Websocket" class="md-nav__link">
      Websocket
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../transports/sockjs/" title="SockJS" class="md-nav__link">
      SockJS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Libraries
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Libraries
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../libraries/client/" title="Client libraries" class="md-nav__link">
      Client libraries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../libraries/api/" title="API libraries" class="md-nav__link">
      API libraries
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Deploy
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Deploy
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../deploy/packages/" title="RPM and DEB packages" class="md-nav__link">
      RPM and DEB packages
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deploy/docker/" title="Docker image" class="md-nav__link">
      Docker image
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deploy/nginx/" title="Nginx configuration" class="md-nav__link">
      Nginx configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deploy/tls/" title="TLS" class="md-nav__link">
      TLS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deploy/redis/" title="Redis HA" class="md-nav__link">
      Redis HA
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deploy/tuning/" title="OS tuning" class="md-nav__link">
      OS tuning
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Misc
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Misc
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../insecure_modes/" title="Insecure modes" class="md-nav__link">
      Insecure modes
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Migrate from Centrifugo v1
      </label>
    
    <a href="./" title="Migrate from Centrifugo v1" class="md-nav__link md-nav__link--active">
      Migrate from Centrifugo v1
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#new-client-protocol-and-client-libraries" title="New client protocol and client libraries" class="md-nav__link">
    New client protocol and client libraries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migrate-communication-with-api" title="Migrate communication with API" class="md-nav__link">
    Migrate communication with API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-jwt-instead-of-hand-crafted-connection-token" title="Use JWT instead of hand-crafted connection token" class="md-nav__link">
    Use JWT instead of hand-crafted connection token
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-jwt-instead-of-hand-crafted-signature-for-private-subscriptions" title="Use JWT instead of hand-crafted signature for private subscriptions" class="md-nav__link">
    Use JWT instead of hand-crafted signature for private subscriptions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#channel-options-changed" title="Channel options changed" class="md-nav__link">
    Channel options changed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sockjs-endpoint-changed" title="SockJS endpoint changed" class="md-nav__link">
    SockJS endpoint changed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#new-way-to-export-metrics" title="New way to export metrics" class="md-nav__link">
    New way to export metrics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#options-renamed" title="Options renamed" class="md-nav__link">
    Options renamed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#no-client-limited-channels-anymore" title="No client limited channels anymore" class="md-nav__link">
    No client limited channels anymore
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#new-reserved-symbols-in-channel-name" title="New reserved symbols in channel name" class="md-nav__link">
    New reserved symbols in channel name
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#centrifugo-v1-repos" title="Centrifugo v1 repos" class="md-nav__link">
    Centrifugo v1 repos
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../faq/" title="FAQ" class="md-nav__link">
      FAQ
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#new-client-protocol-and-client-libraries" title="New client protocol and client libraries" class="md-nav__link">
    New client protocol and client libraries
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migrate-communication-with-api" title="Migrate communication with API" class="md-nav__link">
    Migrate communication with API
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-jwt-instead-of-hand-crafted-connection-token" title="Use JWT instead of hand-crafted connection token" class="md-nav__link">
    Use JWT instead of hand-crafted connection token
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-jwt-instead-of-hand-crafted-signature-for-private-subscriptions" title="Use JWT instead of hand-crafted signature for private subscriptions" class="md-nav__link">
    Use JWT instead of hand-crafted signature for private subscriptions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#channel-options-changed" title="Channel options changed" class="md-nav__link">
    Channel options changed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sockjs-endpoint-changed" title="SockJS endpoint changed" class="md-nav__link">
    SockJS endpoint changed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#new-way-to-export-metrics" title="New way to export metrics" class="md-nav__link">
    New way to export metrics
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#options-renamed" title="Options renamed" class="md-nav__link">
    Options renamed
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#no-client-limited-channels-anymore" title="No client limited channels anymore" class="md-nav__link">
    No client limited channels anymore
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#new-reserved-symbols-in-channel-name" title="New reserved symbols in channel name" class="md-nav__link">
    New reserved symbols in channel name
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#centrifugo-v1-repos" title="Centrifugo v1 repos" class="md-nav__link">
    Centrifugo v1 repos
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/centrifugal/documentation/edit/master/docs/misc/migrate.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="migration-notes-from-centrifugo-v1">Migration notes from Centrifugo v1<a class="headerlink" href="#migration-notes-from-centrifugo-v1" title="Permanent link">&para;</a></h1>
<p>In version 2 of Centrifugo many things changed in backwards incompatible way comparing to version 1. This document aims to help Centrifugo v1 users to migrate their projects to version 2 (if they want to).</p>
<h3 id="new-client-protocol-and-client-libraries">New client protocol and client libraries<a class="headerlink" href="#new-client-protocol-and-client-libraries" title="Permanent link">&para;</a></h3>
<p>In Centrifugo v2 internal client-server protocol changed meaning that old client library version won't work with new server. So first step in migrating - update client libraries to new version with Centrifugo v2 support.</p>
<p>While refactoring client's API changed a bit so you have to adapt your code to those changes.</p>
<p>For the moment of this writing we have no native mobile libraries for Centrifugo v2. So if you are using <code class="codehilite">centrifuge-ios</code> or <code class="codehilite">centrifuge-android</code> then you can't migrate to v2 until those libraries will be ported.</p>
<h3 id="migrate-communication-with-api">Migrate communication with API<a class="headerlink" href="#migrate-communication-with-api" title="Permanent link">&para;</a></h3>
<p>Centrifugo v2 simplified communication with API - requests should not be signed with secret key anymore thus you can simply integrate your backend with Centrifugo without using any of our helper libraries - just send JSON API command as POST request to api endpoint. Don't forget to use api key and protect API endpoint with TLS (more information in server API description document).</p>
<p>Centrifugo v1 could process messages published in Redis queue. In v2 this possibility was removed because this technique is not good in terms of error handling and non-deterministic delay before message will be processed by Centrifugo node worker. Migrate to using HTTP or GRPC API.</p>
<h3 id="use-jwt-instead-of-hand-crafted-connection-token">Use JWT instead of hand-crafted connection token<a class="headerlink" href="#use-jwt-instead-of-hand-crafted-connection-token" title="Permanent link">&para;</a></h3>
<p>In Centrifugo v2 you must use JWT instead of hand-crafted tokens of v1. This means that you need to download JWT library for your language (there are plenty of them – see jwt.io) and build connection token with it.</p>
<p>See dedicated docs chapter to see how token can be built. </p>
<p>All connection information will be passed inside this single token string. This means you only need to pass one string to your frontend. No need to pass <code class="codehilite">user</code>, <code class="codehilite">timestamp</code>, <code class="codehilite">info</code> anymore. This also means that you will have less problems with escaping features of template engines - because JWT is safe base64 string.</p>
<p>Connection expiration (connection check mechanism) now based on <code class="codehilite">exp</code> claim of JWT – you don't need to enable it globally in configuration. </p>
<h3 id="use-jwt-instead-of-hand-crafted-signature-for-private-subscriptions">Use JWT instead of hand-crafted signature for private subscriptions<a class="headerlink" href="#use-jwt-instead-of-hand-crafted-signature-for-private-subscriptions" title="Permanent link">&para;</a></h3>
<p>Read chapter about private subscriptions to find how you should now use JWT for private channel subscriptions.</p>
<h3 id="channel-options-changed">Channel options changed<a class="headerlink" href="#channel-options-changed" title="Permanent link">&para;</a></h3>
<p>Channel option <code class="codehilite">recover</code> now called <code class="codehilite">history_recover</code>.</p>
<p>There is no <code class="codehilite">watch</code> channel option anymore - in Centrifugo v2 admin websocket connection was removed as it made code base much more overhelmed for almost nothing. </p>
<h3 id="sockjs-endpoint-changed">SockJS endpoint changed<a class="headerlink" href="#sockjs-endpoint-changed" title="Permanent link">&para;</a></h3>
<p>It's now <code class="codehilite">/connection/sockjs</code> instead of <code class="codehilite">/connection</code></p>
<h3 id="new-way-to-export-metrics">New way to export metrics<a class="headerlink" href="#new-way-to-export-metrics" title="Permanent link">&para;</a></h3>
<p>Centrifugo is now uses Prometheus primitives internally so if you are using Prometheus you can simply configure it to monitor Centrifugo. Also Centrifugo is able to automatically convert and export metrics to Graphite. See special Monitoring chapter in server docs.</p>
<p>Previously you have to periodically call <code class="codehilite">stats</code> command and export metrics manually. This is gone in Centrifugo v2.</p>
<h3 id="options-renamed">Options renamed<a class="headerlink" href="#options-renamed" title="Permanent link">&para;</a></h3>
<p>Some of advanced options have been renamed – if you are using advanced configuration then refer to documentation to find actual option names.</p>
<h3 id="no-client-limited-channels-anymore">No client limited channels anymore<a class="headerlink" href="#no-client-limited-channels-anymore" title="Permanent link">&para;</a></h3>
<p>That was a pretty useless feature of Centrifugo v1.</p>
<h3 id="new-reserved-symbols-in-channel-name">New reserved symbols in channel name<a class="headerlink" href="#new-reserved-symbols-in-channel-name" title="Permanent link">&para;</a></h3>
<p>Symbols <code class="codehilite">*</code> and <code class="codehilite">/</code> in channel name are now reserved for Centrifugo future needs - please do not use it in channels.</p>
<h3 id="centrifugo-v1-repos">Centrifugo v1 repos<a class="headerlink" href="#centrifugo-v1-repos" title="Permanent link">&para;</a></h3>
<p>Here some links for those who still use Centrifugo v1</p>
<ul>
<li><a href="https://github.com/centrifugal/centrifugo/tree/v1">Centrifugo v1 source code</a></li>
<li><a href="https://fzambia.gitbooks.io/centrifugal/content/">Centrifugo v1 documentation</a></li>
<li><a href="https://github.com/centrifugal/centrifuge-js/tree/v1">centrifuge-js v1</a></li>
<li><a href="https://github.com/centrifugal/centrifuge-go/tree/v0.0.1">centrifuge-go</a></li>
<li><a href="https://github.com/centrifugal/centrifuge-mobile/tree/v0.0.1">centrifuge-mobile</a></li>
<li><a href="https://github.com/centrifugal/examples/tree/ac45e31c7d94ce1d32b59f6e262ce1ec3f3f42f0">examples</a></li>
</ul>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../insecure_modes/" title="Insecure modes" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Insecure modes
              </span>
            </div>
          </a>
        
        
          <a href="../../faq/" title="FAQ" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                FAQ
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.02434462.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>